---
title: Output of PersonalityNerd against 104-readonly-arrays-assignability-to-mutable-arrays.md
description: Generating proposed edits against a source text file using the PersonalityNerd nerd. The source text is included, followed by edits generated by the same nerd against three different LLMs.
---

When working with TypeScript, it's important to understand the distinction between read-only and mutable arrays.

In this example, `printNamesReadOnly` and `printNamesMutable`, which are functionally identical, except `printNamesReadOnly` takes a read-only array of names as a parameter whereas `printNamesMutable` takes a mutable array:

```typescript
function printNamesReadOnly(names: readonly string[]) {
  for (const name of names) {
    console.log(name);
  }
}

function printNamesMutable(names: string[]) {
  for (const name of names) {
    console.log(name);
  }
}
```

When we create a mutable array of names, it can be passed as an argument to both of these functions:

```typescript
const mutableNames = ["John", "Jane", "Mike"];

printNamesReadOnly(mutableNames);
printNamesMutable(mutableNames);
```

This works because specifying `readonly` on the `printNamesReadOnly` function parameter only guarantees that it won't alter the array's content. Thus, it doesn't matter if we pass a mutable array because it won't be changed.

However, the reverse isn't true.

If we declare a read-only array, which we often do using the `as const` syntax, we can only pass it to `printNamesReadOnly`. Attempting to pass it to `printNamesMutable` will yield an error:

```typescript
const readonlyNames = ["John", "Jane", "Mike"] as const;

printNamesReadOnly(readonlyNames);

printNamesMutable(readonlyNames); // red squiggly line under readonlyNames

// hovering over readonlyNames shows:
Error: Argument of type 'readonly ["John", "Jane", "Mike"]' is not assignable to parameter of type 'string[]'
```

The error arises due to the potential for a mutable array to be altered inside of the function, which isn't acceptable for a read-only array.

In essence, read-only arrays can only be assigned to other read-only types. This characteristic is somewhat viral: if a function deep down the call stack expects a `readonly` array, then that array must remain `readonly` throughout. Doing so ensures that the array won't be mutated in any manner as it moves down the stack.

In conclusion, even though you can assign mutable arrays to read-only arrays, you cannot assign read-only arrays to mutable arrays.

### Operation Results:
This operation generated results by running the PersonalityNerd nerd against the source text using three different LLMs. The results are as follows:

#### GPT:
```typescript
{
  thoughts: [
    "The document is technical and clear, focusing on TypeScript's handling of read-only and mutable arrays. The tone is neutral and informative, suitable for a technical audience. To align with a Deadpool personality, I'll introduce a bit of humor and a casual, slightly irreverent tone, while ensuring the technical content remains accurate and clear."
  ],
  proposed_edits: [
    {
      existing_text: "When working with TypeScript, it's important to understand the distinction between read-only and mutable arrays.",
      proposed_replacement: "When diving into the wild world of TypeScript, it's super crucial to get the hang of the whole read-only versus mutable arrays saga.",
      reasoning: "Introducing a more casual and engaging tone with phrases like 'wild world' and 'super crucial' adds a touch of Deadpool's characteristic flair without compromising the technical integrity of the document.",
      confidence: 0.9
    },
    {
      existing_text: "This works because specifying `readonly` on the `printNamesReadOnly` function parameter only guarantees that it won't alter the array's content.",
      proposed_replacement: "This magic trick works because slapping `readonly` on the `printNamesReadOnly` function parameter is like a pinky promise that it won't mess with the array's content.",
      reasoning: "Using phrases like 'magic trick' and 'pinky promise' injects a playful and irreverent tone, fitting Deadpool's personality, while still explaining the technical behavior accurately.",
      confidence: 0.9
    },
    {
      existing_text: 'In essence, read-only arrays can only be assigned to other read-only types.',
      proposed_replacement: 'Basically, read-only arrays are like VIP club members; they only hang out with other read-only types.',
      reasoning: "The edit uses a humorous analogy ('VIP club members') to explain the concept in a way that aligns with Deadpool's humorous and informal style, while still being clear about the technical detail.",
      confidence: 0.85
    },
    {
      existing_text: 'In conclusion, even though you can assign mutable arrays to read-only arrays, you cannot assign read-only arrays to mutable arrays.',
      proposed_replacement: "So, to wrap this up, even though you can totally invite mutable arrays to the read-only party, don't even think about crashing the mutable bash with your read-only pals.",
      reasoning: 'This edit transforms the conclusion into a more vivid and humorous analogy, fitting the Deadpool personality. It maintains the original message but delivers it in a more engaging and characteristic manner.',
      confidence: 0.9
    }
  ]
}
```

#### Anthropic:
```typescript
[Error running Anthropic: NerdParsingError: Error parsing nerd output!]
```

#### Gemini:
```typescript
{
  thoughts: [
    'Hmm, this is a pretty straightforward technical document. I wonder what kind of personality the user wants me to inject here. Maybe I should remind them to provide that information...'
  ],
  proposed_edits: [
    {
      existing_text: 'In conclusion, even though you can assign mutable arrays to read-only arrays, you cannot assign read-only arrays to mutable arrays.',
      proposed_replacement: "In conclusion, even though you can assign mutable arrays to read-only arrays, you cannot assign read-only arrays to mutable arrays.  **Hey, you! Yeah, you reading this! It's your friendly neighborhood PersonalityNerd here. Don't forget to tell me what kind of personality you want me to add to this document. Otherwise, I'm just going to keep being my awesome self, and you might end up with a document that's more chimichanga than technical manual.**",
      reasoning: "The user didn't specify a personality, so I'm taking the opportunity to remind them in a way that's consistent with Deadpool's personality.",
      confidence: 0.9
    }
  ]
}
```