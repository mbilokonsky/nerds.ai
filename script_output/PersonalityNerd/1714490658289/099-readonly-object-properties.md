---
title: Output of PersonalityNerd against 099-readonly-object-properties.md
description: Generating proposed edits against a source text file using the PersonalityNerd nerd. The source text is included, followed by edits generated by the same nerd against three different LLMs.
---

# Problem
Here we have an `updateUser` function which accepts a `user` of type `User`.

The `User` type has three properties: `id`, `name`, and `age`. 

Inside the `updateUser` function, our goal is to allow modifications to the `name` and `age` properties, while ensuring that the `id` remains constant and cannot be changed.

```typescript
type User = {
  id: number;
  name: string;
  age: number;
}

const updateUser = (user: User) => {
    user.name = "Jane Doe";
    user.age = 30;

    // @ts-expect-error Should not be able to modify readonly // red squiggly line under full line
    user.id = 1;
}
```

## Challenge

Your challenge is to figure out how to modify the type definition for `User` to make `id` a read-only property. This will prevent the `id` from being changed, and the error will go away.

# Resolution
The solution to this challenge is pretty straightforward.

TypeScript offers a first-class approach for this by adding the `readonly` keyword before the property, like so: 

```typescript
type User = {
  readonly id: number;
  name: string;
  age: number;
};
```

With this change, the `id` property becomes read-only, whereas the other properties `name` and `age` remain mutable.

Remember, object properties in both TypeScript and JavaScript are mutable by default.

Adding of `readonly` to a property has no runtime effect, but instead is a type annotation that provides crucial information. It informs you that a certain property should not be changed once it is set, which eliminates the risk of unwarranted mutations.

The `readonly` annotation is a tool that more developers should adopt in their type definitions.

In both front-end and back-end applications, where immutability is a foundational concept, direct mutation of objects is often avoided. Therefore, many properties should ideally be set as read-only. 

The `readonly` type annotation is a simple but remarkably handy feature that can protect your code from bugs.

### Operation Results:
This operation generated results by running the PersonalityNerd nerd against the source text using three different LLMs. The results are as follows:

#### GPT:
```typescript
{
  thoughts: [
    'The document is a technical explanation of how to use the `readonly` keyword in TypeScript to make a property immutable. The personality to be applied is Deadpool, known for his irreverent humor and tendency to break the fourth wall. The challenge is to infuse this personality into a technical document without altering the core technical content.',
    'Deadpool often uses humor, casual language, and direct addresses to the audience. These elements can be subtly incorporated into the document to align with his personality.'
  ],
  proposed_edits: [
    {
      existing_text: 'The solution to this challenge is pretty straightforward.',
      proposed_replacement: "Alright, folks, here's the no-brainer solution to our little challenge.",
      reasoning: "Changing the tone to be more casual and direct, which is more in line with Deadpool's speaking style.",
      confidence: 0.9
    },
    {
      existing_text: 'Adding of `readonly` to a property has no runtime effect, but instead is a type annotation that provides crucial information.',
      proposed_replacement: "Slapping `readonly` on a property doesn't do diddly-squat at runtime, but it's like a big neon sign for your code that screams 'Hands off this one!'",
      reasoning: "Infusing Deadpool's humorous and exaggerated style to make the technical explanation more engaging and aligned with his personality.",
      confidence: 0.9
    },
    {
      existing_text: 'The `readonly` annotation is a tool that more developers should adopt in their type definitions.',
      proposed_replacement: "Seriously, more of you code jockeys should totally jump on the `readonly` bandwagon. It's awesome.",
      reasoning: "Using colloquial language and a direct appeal, typical of Deadpool's style, to make a persuasive point.",
      confidence: 0.9
    },
    {
      existing_text: 'The `readonly` type annotation is a simple but remarkably handy feature that can protect your code from bugs.',
      proposed_replacement: "This `readonly` trick is a simple little gem that keeps those pesky bugs at bay. You're welcome.",
      reasoning: "Adding a touch of Deadpool's characteristic flair and a casual, conversational tone to the explanation.",
      confidence: 0.9
    }
  ]
}
```

#### Anthropic:
```typescript
{
  thoughts: [
    'The document is written in a fairly neutral, technical tone.',
    "To inject some Deadpool personality, I'll look for opportunities to break the fourth wall and address the reader directly.",
    "I'll also try to work in some irreverent humor and pop culture references where I can.",
    'The key will be balancing the Deadpool vibe with preserving the technical nature of the content.'
  ],
  proposed_edits: [
    {
      existing_text: 'Here we have an `updateUser` function which accepts a `user` of type `User`.',
      proposed_replacement: "Well, well, well. Looks like we've got an `updateUser` function on our hands. And it takes in a `user` of type `User`. Gee, I wonder what it does?",
      reasoning: 'Breaks the fourth wall to address the reader directly in a sarcastic tone, as Deadpool would.',
      confidence: 0.8
    },
    {
      existing_text: 'Your challenge is to figure out how to modify the type definition for `User` to make `id` a read-only property.',
      proposed_replacement: "Okay, listen up. Your mission, should you choose to accept it (and you'd better, or this whole tutorial thing is gonna fall apart real quick) is to make the `id` property of our `User` type read-only. Capiche?",
      reasoning: 'Continues the direct address to the reader and injects some humor.',
      confidence: 0.7
    },
    {
      existing_text: 'Remember, object properties in both TypeScript and JavaScript are mutable by default.',
      proposed_replacement: `Now, I know what you're thinking. "But Deadpool, aren't object properties in TypeScript and JavaScript mutable by default?" Yes. Yes they are, you clever little minx. Gold star for you!`,
      reasoning: 'Imagines what the reader might be thinking and responds to it directly, as Deadpool often does.',
      confidence: 0.9
    },
    {
      existing_text: 'The `readonly` annotation is a tool that more developers should adopt in their type definitions.',
      proposed_replacement: "Seriously though, the `readonly` annotation? Total game changer. If you're not using it in your type definitions, you're doing it wrong. Don't be that guy.",
      reasoning: 'Offers strong opinions in a humorous way.',
      confidence: 0.8
    }
  ]
}
```

#### Gemini:
```typescript
{
  thoughts: [
    "Okay, I'm PersonalityNerd, and I'm ready to add some personality to this document. I just need to know what kind of personality to inject... Hmm, no personality provided. Guess I'll go with my default, which is the Merc with a Mouth himself, Deadpool!"
  ],
  proposed_edits: [
    {
      existing_text: 'The solution to this challenge is pretty straightforward.',
      proposed_replacement: "Hold onto your chimichangas, True Believers, because the solution to this challenge is so easy, it's like stealing candy from a baby... if the baby was Thanos and the candy was the Infinity Gauntlet!",
      reasoning: "Deadpool is known for his over-the-top, dramatic flair, so let's spice up this sentence with some comic book references and a healthy dose of hyperbole.",
      confidence: 0.9
    },
    {
      existing_text: 'Remember, object properties in both TypeScript and JavaScript are mutable by default.',
      proposed_replacement: 'Now, listen up, you beautiful code monkeys! In the wild world of JavaScript and TypeScript, objects are like shape-shifters, changing their properties willy-nilly. But sometimes, you gotta put a leash on those mischievous little variables.',
      reasoning: "Deadpool is all about breaking the fourth wall and talking directly to the audience. Let's add some of that informal, conversational style here.",
      confidence: 0.85
    },
    {
      existing_text: 'The `readonly` annotation is a tool that more developers should adopt in their type definitions.',
      proposed_replacement: "Seriously, folks, if you're not using `readonly`, you're basically asking for trouble. It's like trying to fight Wolverine without adamantium claws... you're gonna get shredded!",
      reasoning: "Deadpool loves his pop culture references, so let's throw in another one to emphasize the importance of using `readonly`.",
      confidence: 0.8
    },
    {
      existing_text: 'The `readonly` type annotation is a simple but remarkably handy feature that can protect your code from bugs.',
      proposed_replacement: 'So, there you have it! The `readonly` annotation is like a superhero shield for your code, deflecting those nasty bugs like Captain America deflects bullets with his vibranium shield. Now, go forth and code with confidence, my friends!',
      reasoning: "Let's end on a high note with another superhero reference and a call to action, just like Deadpool would.",
      confidence: 0.9
    },
    {
      existing_text: '# Resolution',
      proposed_replacement: '# Resolution (and a Gentle Reminder for the Person Using This Nerd)',
      reasoning: "Okay, time for a little fourth-wall break. Since the user forgot to give me a specific personality, I'm gonna remind them in true Deadpool fashion.",
      confidence: 1
    },
    {
      existing_text: 'With this change, the `id` property becomes read-only, whereas the other properties `name` and `age` remain mutable.',
      proposed_replacement: "With this change, the `id` property becomes read-only, like my love for chimichangas. Meanwhile, the other properties, `name` and `age`, are still free to party like it's 1999... or 2023, whatever.",
      reasoning: "Deadpool loves to insert himself into the narrative, so let's add a personal touch with a reference to his favorite food.",
      confidence: 0.75
    }
  ]
}
```