---
title: Output of PersonalityNerd against 100-readonly-type-helper.md
description: Generating proposed edits against a source text file using the PersonalityNerd nerd. The source text is included, followed by edits generated by the same nerd against three different LLMs.
---

# Problem
In this exercise, we have a `handleSearchParams` function. This function consumes a search object that consists of several potential search parameters. These parameters include:

```ts
type SearchParams = {
  q?: string;
  page?: number;
  pageSize?: number;
  sort?: string;
  order?: "asc" | "desc";
};
```

All these parameters are optional, but they should be read-only. This is because they come directly from the URL and serve as the source of truth. Therefore, we shouldn't allow modifications to these parameters. 

As seen in the `handleSearchParams` function, if we try to modify these parameters, we should get errors telling us that we should not be able to modify these read-only parameters:

```ts
const handleSearchParams = (search: SearchParams) => {
  // Do something with the search params

  // @ts-expect-error Should not be able to modify readonly
  search.q = "test";

  // @ts-expect-error Should not be able to modify readonly
  search.page = 1;

  // @ts-expect-error Should not be able to modify readonly
  search.pageSize = 10;

  // @ts-expect-error Should not be able to modify readonly
  search.sort = "name";

  // @ts-expect-error Should not be able to modify readonly
  search.order = "asc";
};
```

However, because the search parameters are not read-only, we do not get any errors. This is because TypeScript infers the `search` parameter as a mutable object. Therefore, it allows us to modify the properties of the `search` object.

## Challenge

Your task is to make sure the potential search parameters are read-only.

An obvious way to enforce the read-only status is to append the `readonly` keyword on every parameter individually. However, a more efficient approach involves using a type helper. This helper can be applied to the `SearchParams` type, making all of its properties read-only at once.

Find and properly implement this type helper to mark every property in `SearchParams` as read-only.

# Resolution
TypeScript's `Readonly` type helper ensures that all object properties are read-only:

```typescript
Readonly<YourObjectHere>
```

If you try to modify a read-only property, you will encounter errors. However, this doesn't alter the characteristics of the properties themselves - they continue to remain optional.

With the `SearchParams` object, the properties will still be optional, but the `Readonly` type helper will ensure that they cannot be modified.

```typescript
type SearchParams = {
  q?: string;
  page?: number;
  pageSize?: number;
  sort?: string;
  order?: "asc" | "desc";
};

const handleSearchParams = (search: Readonly<SearchParams>) => {
  // Do something with the search params

  // @ts-expect-error Should not be able to modify readonly
  search.q = "test";

  // @ts-expect-error Should not be able to modify readonly
  search.page = 1;

  // @ts-expect-error Should not be able to modify readonly
  search.pageSize = 10;

  // @ts-expect-error Should not be able to modify readonly
  search.sort = "name";

  // @ts-expect-error Should not be able to modify readonly
  search.order = "asc";
};
```

One peculiarity of `Readonly` is that, much like many of TypeScript's type helpers, it only operates on the first level. It won't make properties read-only recursively.

It's also worth noting that the `Readonly` utility works like `Object.freeze`, behaving as though the object is frozen and can't be modified at the type level, but it doesn't influence the object at runtime.

### Operation Results:
This operation generated results by running the PersonalityNerd nerd against the source text using three different LLMs. The results are as follows:

#### GPT:
```typescript
{
  thoughts: [
    'The document is technical and precise, focusing on TypeScript functionality. The personality of Deadpool, known for humor and breaking the fourth wall, can be subtly integrated into the technical content without altering the core information.',
    "To infuse Deadpool's personality, I'll add a humorous comment or a quirky remark in a section where it won't compromise the technical accuracy but will add a touch of personality."
  ],
  proposed_edits: [
    {
      existing_text: 'This helper can be applied to the `SearchParams` type, making all of its properties read-only at once.',
      proposed_replacement: "This nifty little helper can be applied to the `SearchParams` type, making all of its properties read-only at once. It's like giving them a superpower, but instead of shooting webs or flying, they just... don't change.",
      reasoning: "Adding a humorous analogy related to superpowers injects a bit of Deadpool's quirky humor into the explanation, making the technical content more engaging without altering its meaning.",
      confidence: 0.9
    },
    {
      existing_text: "It's also worth noting that the `Readonly` utility works like `Object.freeze`, behaving as though the object is frozen and can't be modified at the type level, but it doesn't influence the object at runtime.",
      proposed_replacement: "It's also worth noting that the `Readonly` utility works like `Object.freeze`, behaving as though the object is frozen and can't be modified at the type level, but it doesn't influence the object at runtime. So, it's all about keeping up appearances, kind of like wearing a superhero costume to a job interview.",
      reasoning: "Adding a humorous remark about wearing a superhero costume to a job interview plays into Deadpool's irreverent humor, enhancing the document's personality while maintaining the integrity of the technical explanation.",
      confidence: 0.9
    }
  ]
}
```

#### Anthropic:
```typescript
{
  thoughts: [
    'The document is a technical explanation of how to use the Readonly type helper in TypeScript to make object properties read-only.',
    'The tone is straightforward and informative, without much personality.',
    "To match the personality of Deadpool, I'll try to inject some humor and irreverence while still conveying the key technical points.",
    "I'll focus my edits on the introductory 'Problem' and concluding 'Resolution' sections, as those lend themselves best to some Deadpool-style commentary.",
    "I'll aim to make the edits subtle enough to still fit the overall technical tone, as if Deadpool was tasked with writing TypeScript documentation."
  ],
  proposed_edits: [
    {
      existing_text: 'In this exercise, we have a `handleSearchParams` function.',
      proposed_replacement: "Alright, listen up! We've got this `handleSearchParams` function that's just begging for some attention.",
      reasoning: "Kicks off the explanation with a more casual, attention-grabbing opener in Deadpool's voice.",
      confidence: 0.8
    },
    {
      existing_text: "Therefore, we shouldn't allow modifications to these parameters.",
      proposed_replacement: 'So unless you want the TypeScript cops busting down your door, keep your hands off these read-only parameters!',
      reasoning: "Injects some humorous imagery to warn against modifying the read-only parameters, in Deadpool's irreverent style.",
      confidence: 0.7
    },
    {
      existing_text: 'Your task is to make sure the potential search parameters are read-only.',
      proposed_replacement: "Your mission, should you choose to accept it (and you definitely should, I mean, why wouldn't you?), is to slap a 'read-only' label on these search parameters.",
      reasoning: 'Restates the task in a more casual, mission-briefing type of way that Deadpool might use.',
      confidence: 0.75
    },
    {
      existing_text: "It's also worth noting that the `Readonly` utility works like `Object.freeze`, behaving as though the object is frozen and can't be modified at the type level, but it doesn't influence the object at runtime.",
      proposed_replacement: "Oh, and one more thing - `Readonly` is like the `Object.freeze` of the TypeScript world. It acts all tough and says 'you can't touch this' at the type level, but at runtime, it's more of a gentle suggestion than an iron-clad rule.",
      reasoning: "Explains the behavior of Readonly using analogies and casual language that fit Deadpool's speaking style.",
      confidence: 0.85
    }
  ]
}
```

#### Gemini:
```typescript
{
  thoughts: [
    "Hey, this is pretty straightforward. I'm PersonalityNerd, but I don't have a personality to work with yet. I'll just make some basic edits to improve clarity and then remind the user to give me a personality to work with."
  ],
  proposed_edits: [
    {
      existing_text: "One peculiarity of `Readonly` is that, much like many of TypeScript's type helpers, it only operates on the first level. It won't make properties read-only recursively.",
      proposed_replacement: "One important thing to remember about `Readonly` is that, like many TypeScript helpers, it only works on the first level of properties. It won't make nested properties read-only.",
      reasoning: "The original sentence was a bit wordy and used jargon ('peculiarity') that could be replaced with simpler language.",
      confidence: 0.9
    },
    {
      existing_text: "It's also worth noting that the `Readonly` utility works like `Object.freeze`, behaving as though the object is frozen and can't be modified at the type level, but it doesn't influence the object at runtime.",
      proposed_replacement: "It's also important to understand that the `Readonly` utility is like `Object.freeze` in that it prevents modifications at the type level, but it doesn't actually freeze the object at runtime.",
      reasoning: 'The original sentence was a bit long and could be made more concise while retaining the meaning.',
      confidence: 0.8
    },
    {
      existing_text: '## Challenge',
      proposed_replacement: '## Your Mission, Should You Choose to Accept It...',
      reasoning: "Okay, user, time to give me a personality! I'm going full Deadpool until you do. Let's spice up this challenge section with some action movie flair.",
      confidence: 1
    }
  ]
}
```