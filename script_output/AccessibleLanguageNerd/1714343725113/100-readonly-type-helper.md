---
title: Output of AccessibleLanguageNerd against 100-readonly-type-helper.md
description: Generating proposed edits against a source text file using the AccessibleLanguageNerd nerd. The source text is included, followed by edits generated by the same nerd against three different LLMs.
---

# Problem
In this exercise, we have a `handleSearchParams` function. This function consumes a search object that consists of several potential search parameters. These parameters include:

```ts
type SearchParams = {
  q?: string;
  page?: number;
  pageSize?: number;
  sort?: string;
  order?: "asc" | "desc";
};
```

All these parameters are optional, but they should be read-only. This is because they come directly from the URL and serve as the source of truth. Therefore, we shouldn't allow modifications to these parameters. 

As seen in the `handleSearchParams` function, if we try to modify these parameters, we should get errors telling us that we should not be able to modify these read-only parameters:

```ts
const handleSearchParams = (search: SearchParams) => {
  // Do something with the search params

  // @ts-expect-error Should not be able to modify readonly
  search.q = "test";

  // @ts-expect-error Should not be able to modify readonly
  search.page = 1;

  // @ts-expect-error Should not be able to modify readonly
  search.pageSize = 10;

  // @ts-expect-error Should not be able to modify readonly
  search.sort = "name";

  // @ts-expect-error Should not be able to modify readonly
  search.order = "asc";
};
```

However, because the search parameters are not read-only, we do not get any errors. This is because TypeScript infers the `search` parameter as a mutable object. Therefore, it allows us to modify the properties of the `search` object.

## Challenge

Your task is to make sure the potential search parameters are read-only.

An obvious way to enforce the read-only status is to append the `readonly` keyword on every parameter individually. However, a more efficient approach involves using a type helper. This helper can be applied to the `SearchParams` type, making all of its properties read-only at once.

Find and properly implement this type helper to mark every property in `SearchParams` as read-only.

# Resolution
TypeScript's `Readonly` type helper ensures that all object properties are read-only:

```typescript
Readonly<YourObjectHere>
```

If you try to modify a read-only property, you will encounter errors. However, this doesn't alter the characteristics of the properties themselves - they continue to remain optional.

With the `SearchParams` object, the properties will still be optional, but the `Readonly` type helper will ensure that they cannot be modified.

```typescript
type SearchParams = {
  q?: string;
  page?: number;
  pageSize?: number;
  sort?: string;
  order?: "asc" | "desc";
};

const handleSearchParams = (search: Readonly<SearchParams>) => {
  // Do something with the search params

  // @ts-expect-error Should not be able to modify readonly
  search.q = "test";

  // @ts-expect-error Should not be able to modify readonly
  search.page = 1;

  // @ts-expect-error Should not be able to modify readonly
  search.pageSize = 10;

  // @ts-expect-error Should not be able to modify readonly
  search.sort = "name";

  // @ts-expect-error Should not be able to modify readonly
  search.order = "asc";
};
```

One peculiarity of `Readonly` is that, much like many of TypeScript's type helpers, it only operates on the first level. It won't make properties read-only recursively.

It's also worth noting that the `Readonly` utility works like `Object.freeze`, behaving as though the object is frozen and can't be modified at the type level, but it doesn't influence the object at runtime.

### Operation Results:
This operation generated results by running the AccessibleLanguageNerd nerd against the source text using three different LLMs. The results are as follows:

#### GPT:
```typescript
{
  proposed_edits: [
    {
      existing_text: 'This function consumes a search object that consists of several potential search parameters.',
      proposed_replacement: 'This function uses a search object that contains various potential search parameters.',
      reasoning: "The word 'consumes' might be confusing in this context as it is more commonly used in other programming contexts. 'Uses' is more straightforward and understandable.",
      confidence: 0.9
    },
    {
      existing_text: 'All these parameters are optional, but they should be read-only.',
      proposed_replacement: 'All these parameters are optional, yet they should be read-only.',
      reasoning: "Replacing 'but' with 'yet' clarifies that the parameters being optional does not contradict them needing to be read-only, enhancing the flow of the sentence.",
      confidence: 0.8
    },
    {
      existing_text: 'This is because they come directly from the URL and serve as the source of truth.',
      proposed_replacement: 'This is because they are directly derived from the URL and serve as the definitive source of information.',
      reasoning: "The phrase 'source of truth' might be too jargon-heavy for some readers. 'Definitive source of information' is a clearer alternative.",
      confidence: 0.85
    },
    {
      existing_text: "Therefore, we shouldn't allow modifications to these parameters.",
      proposed_replacement: 'Therefore, modifications to these parameters should not be allowed.',
      reasoning: 'Rephrasing to passive voice emphasizes the rule rather than the action by the user, which might be clearer in this explanatory context.',
      confidence: 0.8
    },
    {
      existing_text: 'However, because the search parameters are not read-only, we do not get any errors.',
      proposed_replacement: 'However, since the search parameters are not read-only, no errors are generated.',
      reasoning: "Changing 'we do not get any errors' to 'no errors are generated' shifts the focus from the user to the system, which is more appropriate for technical documentation.",
      confidence: 0.9
    },
    {
      existing_text: 'This helper can be applied to the `SearchParams` type, making all of its properties read-only at once.',
      proposed_replacement: 'This helper can be applied to the `SearchParams` type to make all of its properties read-only simultaneously.',
      reasoning: "Replacing 'at once' with 'simultaneously' provides a clearer and more formal tone appropriate for technical documentation.",
      confidence: 0.85
    },
    {
      existing_text: "One peculiarity of `Readonly` is that, much like many of TypeScript's type helpers, it only operates on the first level.",
      proposed_replacement: "One unique aspect of `Readonly` is that, similar to many of TypeScript's type helpers, it only affects the first level.",
      reasoning: "Replacing 'peculiarity' with 'unique aspect' and 'operates' with 'affects' simplifies the language and makes it more accessible.",
      confidence: 0.9
    },
    {
      existing_text: "It won't make properties read-only recursively.",
      proposed_replacement: 'It does not make properties read-only at deeper levels within an object.',
      reasoning: "Explaining 'recursively' as 'at deeper levels within an object' clarifies the technical concept for readers who may not be familiar with recursion.",
      confidence: 0.95
    }
  ]
}
```

#### Anthropic:
```typescript
{
  proposed_edits: [
    {
      existing_text: "All these parameters are optional, but they should be read-only. This is because they come directly from the URL and serve as the source of truth. Therefore, we shouldn't allow modifications to these parameters.",
      proposed_replacement: "All of these parameters are optional, but they should be read-only since they come directly from the URL. The URL serves as the source of truth, so we shouldn't allow these parameters to be modified.",
      reasoning: 'The proposed edit breaks up the long sentence into shorter, clearer sentences. It also removes some redundant wording to make the explanation more concise while preserving the key points.',
      confidence: 0.8
    },
    {
      existing_text: 'However, because the search parameters are not read-only, we do not get any errors. This is because TypeScript infers the `search` parameter as a mutable object. Therefore, it allows us to modify the properties of the `search` object.',
      proposed_replacement: "However, we don't get any errors because the search parameters are not read-only. TypeScript infers the `search` parameter as a mutable object, which allows us to modify the properties of the `search` object.",
      reasoning: 'The proposed edit simplifies the wording and sentence structure to make the explanation easier to follow, without changing the technical meaning.',
      confidence: 0.9
    },
    {
      existing_text: 'An obvious way to enforce the read-only status is to append the `readonly` keyword on every parameter individually. However, a more efficient approach involves using a type helper. This helper can be applied to the `SearchParams` type, making all of its properties read-only at once.',
      proposed_replacement: 'One way to make the parameters read-only is to add the `readonly` keyword to each one. But a more efficient approach is to use a type helper that can be applied to the `SearchParams` type. This will make all the properties read-only in one step.',
      reasoning: 'The proposed edit simplifies some of the language to make it more accessible, like changing "enforce the read-only status" to "make the parameters read-only". It also breaks the explanation into shorter sentences.',
      confidence: 0.85
    },
    {
      existing_text: "One peculiarity of `Readonly` is that, much like many of TypeScript's type helpers, it only operates on the first level. It won't make properties read-only recursively.",
      proposed_replacement: "One thing to note about `Readonly` is that it only makes the top-level properties read-only. It doesn't work recursively to make nested object properties read-only. This is similar to how many of TypeScript's type helpers work.",
      reasoning: 'The proposed edit reorders the information to put the key point first, then provides the additional context. It also rephrases "peculiarity" to "one thing to note" to make it sound less strange.',
      confidence: 0.7
    }
  ]
}
```

#### Gemini:
```typescript
{
  proposed_edits: [
    {
      existing_text: 'consumes a search object that consists of several potential search parameters.',
      proposed_replacement: 'takes a search object as input, which contains several possible search parameters.',
      reasoning: 'Simplifying the language to make it more accessible to a wider audience.',
      confidence: 0.9
    },
    {
      existing_text: 'These parameters include:',
      proposed_replacement: 'These parameters are:',
      reasoning: 'Using simpler and more direct language.',
      confidence: 0.9
    },
    {
      existing_text: "All these parameters are optional, but they should be read-only. This is because they come directly from the URL and serve as the source of truth. Therefore, we shouldn't allow modifications to these parameters.",
      proposed_replacement: 'All of these parameters are optional, meaning they may or may not be included in the search. However, they should be read-only, as they originate directly from the URL and represent the definitive source of information. Consequently, we should prevent any changes to these parameters.',
      reasoning: 'Rephrasing the sentence to improve clarity and readability while maintaining the original meaning.',
      confidence: 0.8
    },
    {
      existing_text: 'As seen in the `handleSearchParams` function, if we try to modify these parameters, we should get errors telling us that we should not be able to modify these read-only parameters:',
      proposed_replacement: 'As demonstrated in the `handleSearchParams` function, attempting to modify these parameters should result in errors indicating that modifying read-only parameters is not permitted:',
      reasoning: 'Enhancing the sentence structure for better readability.',
      confidence: 0.8
    },
    {
      existing_text: 'However, because the search parameters are not read-only, we do not get any errors. This is because TypeScript infers the `search` parameter as a mutable object. Therefore, it allows us to modify the properties of the `search` object.',
      proposed_replacement: 'However, since the search parameters are not currently defined as read-only, no errors are generated. This is due to TypeScript interpreting the `search` parameter as a mutable object, allowing modifications to its properties.',
      reasoning: 'Improving sentence structure and word choice for better clarity.',
      confidence: 0.8
    },
    {
      existing_text: 'Your task is to make sure the potential search parameters are read-only.',
      proposed_replacement: 'Your objective is to ensure that the potential search parameters are designated as read-only.',
      reasoning: 'Using more formal language to align with the technical context.',
      confidence: 0.7
    },
    {
      existing_text: 'An obvious way to enforce the read-only status is to append the `readonly` keyword on every parameter individually. However, a more efficient approach involves using a type helper. This helper can be applied to the `SearchParams` type, making all of its properties read-only at once.',
      proposed_replacement: 'One way to enforce read-only status is to add the `readonly` keyword to each parameter individually. However, a more efficient method involves utilizing a type helper. This helper can be applied to the `SearchParams` type, making all of its properties read-only simultaneously.',
      reasoning: 'Improving sentence structure and word choice for better clarity.',
      confidence: 0.8
    },
    {
      existing_text: 'Find and properly implement this type helper to mark every property in `SearchParams` as read-only.',
      proposed_replacement: 'Identify and correctly implement this type helper to designate every property in `SearchParams` as read-only.',
      reasoning: 'Using more formal language to align with the technical context.',
      confidence: 0.7
    },
    {
      existing_text: "TypeScript's `Readonly` type helper ensures that all object properties are read-only:",
      proposed_replacement: 'The `Readonly` type helper in TypeScript guarantees that all properties within an object are read-only:',
      reasoning: 'Rephrasing the sentence for improved clarity and emphasis.',
      confidence: 0.8
    },
    {
      existing_text: "If you try to modify a read-only property, you will encounter errors. However, this doesn't alter the characteristics of the properties themselves - they continue to remain optional.",
      proposed_replacement: 'Attempting to modify a read-only property will result in errors. However, this does not change the nature of the properties themselves; they remain optional.',
      reasoning: 'Improving sentence structure and word choice for better clarity.',
      confidence: 0.8
    },
    {
      existing_text: 'With the `SearchParams` object, the properties will still be optional, but the `Readonly` type helper will ensure that they cannot be modified.',
      proposed_replacement: 'In the case of the `SearchParams` object, the properties will remain optional, but the `Readonly` type helper will prevent any modifications to them.',
      reasoning: 'Rephrasing the sentence for improved clarity and conciseness.',
      confidence: 0.8
    },
    {
      existing_text: "One peculiarity of `Readonly` is that, much like many of TypeScript's type helpers, it only operates on the first level. It won't make properties read-only recursively.",
      proposed_replacement: 'A notable characteristic of `Readonly` is that, similar to many type helpers in TypeScript, it only affects the first level of properties. It does not make properties read-only recursively.',
      reasoning: 'Improving sentence structure and word choice for better clarity.',
      confidence: 0.8
    },
    {
      existing_text: "It's also worth noting that the `Readonly` utility works like `Object.freeze`, behaving as though the object is frozen and can't be modified at the type level, but it doesn't influence the object at runtime.",
      proposed_replacement: "It's important to mention that the `Readonly` utility functions similarly to `Object.freeze`. It behaves as if the object is frozen and cannot be modified at the type level, but it does not affect the object at runtime.",
      reasoning: 'Improving sentence structure and word choice for better clarity.',
      confidence: 0.8
    }
  ]
}
```