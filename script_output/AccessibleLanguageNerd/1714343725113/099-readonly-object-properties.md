---
title: Output of AccessibleLanguageNerd against 099-readonly-object-properties.md
description: Generating proposed edits against a source text file using the AccessibleLanguageNerd nerd. The source text is included, followed by edits generated by the same nerd against three different LLMs.
---

# Problem
Here we have an `updateUser` function which accepts a `user` of type `User`.

The `User` type has three properties: `id`, `name`, and `age`. 

Inside the `updateUser` function, our goal is to allow modifications to the `name` and `age` properties, while ensuring that the `id` remains constant and cannot be changed.

```typescript
type User = {
  id: number;
  name: string;
  age: number;
}

const updateUser = (user: User) => {
    user.name = "Jane Doe";
    user.age = 30;

    // @ts-expect-error Should not be able to modify readonly // red squiggly line under full line
    user.id = 1;
}
```

## Challenge

Your challenge is to figure out how to modify the type definition for `User` to make `id` a read-only property. This will prevent the `id` from being changed, and the error will go away.

# Resolution
The solution to this challenge is pretty straightforward.

TypeScript offers a first-class approach for this by adding the `readonly` keyword before the property, like so: 

```typescript
type User = {
  readonly id: number;
  name: string;
  age: number;
};
```

With this change, the `id` property becomes read-only, whereas the other properties `name` and `age` remain mutable.

Remember, object properties in both TypeScript and JavaScript are mutable by default.

Adding of `readonly` to a property has no runtime effect, but instead is a type annotation that provides crucial information. It informs you that a certain property should not be changed once it is set, which eliminates the risk of unwarranted mutations.

The `readonly` annotation is a tool that more developers should adopt in their type definitions.

In both front-end and back-end applications, where immutability is a foundational concept, direct mutation of objects is often avoided. Therefore, many properties should ideally be set as read-only. 

The `readonly` type annotation is a simple but remarkably handy feature that can protect your code from bugs.

### Operation Results:
This operation generated results by running the AccessibleLanguageNerd nerd against the source text using three different LLMs. The results are as follows:

#### GPT:
```typescript
{
  proposed_edits: [
    {
      existing_text: 'The solution to this challenge is pretty straightforward.',
      proposed_replacement: 'The solution to this challenge is simple and direct.',
      reasoning: "The phrase 'pretty straightforward' might be less clear to non-native speakers or beginners. 'Simple and direct' is more universally understandable.",
      confidence: 0.9
    },
    {
      existing_text: 'Adding of `readonly` to a property has no runtime effect, but instead is a type annotation that provides crucial information.',
      proposed_replacement: 'Adding the `readonly` keyword to a property does not affect the program during execution (runtime), but it serves as a type annotation that provides crucial information.',
      reasoning: "The original sentence structure is a bit awkward and could be confusing. The revised sentence clarifies what 'runtime effect' means and rephrases for better readability.",
      confidence: 0.95
    },
    {
      existing_text: 'It informs you that a certain property should not be changed once it is set, which eliminates the risk of unwarranted mutations.',
      proposed_replacement: 'It indicates that a certain property should not be changed after it is initially set, helping to prevent unwanted changes.',
      reasoning: "The original sentence uses 'unwarranted mutations,' which is a more technical term. Simplifying this to 'unwanted changes' makes the concept more accessible to a broader audience.",
      confidence: 0.9
    },
    {
      existing_text: 'The `readonly` annotation is a tool that more developers should adopt in their type definitions.',
      proposed_replacement: 'The `readonly` annotation is a useful tool that developers should consider using more often in their type definitions.',
      reasoning: 'The revised sentence is more encouraging and provides a clearer recommendation for developers.',
      confidence: 0.9
    },
    {
      existing_text: 'In both front-end and back-end applications, where immutability is a foundational concept, direct mutation of objects is often avoided.',
      proposed_replacement: 'In both front-end and back-end applications, where keeping data unchanged (immutability) is crucial, directly changing objects is often avoided.',
      reasoning: "The term 'immutability' might be unfamiliar to some readers. Explaining it as 'keeping data unchanged' makes the concept more accessible.",
      confidence: 0.9
    },
    {
      existing_text: 'Therefore, many properties should ideally be set as read-only.',
      proposed_replacement: 'Therefore, it is often ideal to set many properties as read-only.',
      reasoning: 'Rephrasing for smoother flow and readability.',
      confidence: 0.85
    }
  ]
}
```

#### Anthropic:
```typescript
{
  proposed_edits: [
    {
      existing_text: 'Adding of `readonly` to a property has no runtime effect, but instead is a type annotation that provides crucial information.',
      proposed_replacement: 'Adding `readonly` to a property has no runtime effect. Instead, it is a type annotation that provides crucial information.',
      reasoning: 'The original sentence is a bit awkward. Breaking it into two sentences makes it clearer and easier to read.',
      confidence: 0.9
    },
    {
      existing_text: 'It informs you that a certain property should not be changed once it is set, which eliminates the risk of unwarranted mutations.',
      proposed_replacement: 'It informs you that a property should not be changed after it is set, eliminating the risk of unintended mutations.',
      reasoning: "The phrase 'a certain property' is unnecessary. 'Unwarranted mutations' can be replaced with the simpler 'unintended mutations'.",
      confidence: 0.8
    },
    {
      existing_text: 'The `readonly` annotation is a tool that more developers should adopt in their type definitions.',
      proposed_replacement: 'The `readonly` annotation is a tool that developers should use more often in their type definitions.',
      reasoning: "The phrase 'more developers should adopt' is a bit awkward. 'Developers should use more often' is more straightforward.",
      confidence: 0.7
    },
    {
      existing_text: 'In both front-end and back-end applications, where immutability is a foundational concept, direct mutation of objects is often avoided.',
      proposed_replacement: 'In applications where immutability is a core principle, direct mutation of objects is generally avoided.',
      reasoning: "Specifying 'front-end and back-end' is not necessary, as immutability is a general programming concept. 'Foundational' can be replaced with the simpler 'core'. 'Often avoided' can be replaced with 'generally avoided' for better readability.",
      confidence: 0.8
    },
    {
      existing_text: 'Therefore, many properties should ideally be set as read-only.',
      proposed_replacement: "Therefore, it's best to set many properties as read-only.",
      reasoning: "'Should ideally be set' is a bit wordy. 'It's best to set' is more concise and just as clear.",
      confidence: 0.9
    }
  ]
}
```

#### Gemini:
```typescript
{
  proposed_edits: [
    {
      existing_text: 'Adding of `readonly` to a property has no runtime effect, but instead is a type annotation that provides crucial information.',
      proposed_replacement: "Adding `readonly` to a property doesn't change how the code runs, but it's a way of telling the computer important information about how the code should work.",
      reasoning: 'The original sentence uses technical jargon ("runtime effect", "type annotation") that may not be familiar to all readers. The proposed replacement uses simpler language to convey the same meaning.',
      confidence: 0.9
    },
    {
      existing_text: 'It informs you that a certain property should not be changed once it is set, which eliminates the risk of unwarranted mutations.',
      proposed_replacement: "It tells you that the value of that property shouldn't be changed after it's first assigned, which helps prevent accidental changes that can cause problems.",
      reasoning: 'The original sentence uses technical jargon ("unwarranted mutations") that may not be familiar to all readers. The proposed replacement uses simpler language to convey the same meaning.',
      confidence: 0.9
    }
  ]
}
```