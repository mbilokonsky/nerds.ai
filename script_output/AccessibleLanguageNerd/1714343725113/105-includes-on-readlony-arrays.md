---
title: Output of AccessibleLanguageNerd against 105-includes-on-readlony-arrays.md
description: Generating proposed edits against a source text file using the AccessibleLanguageNerd nerd. The source text is included, followed by edits generated by the same nerd against three different LLMs.
---

---
title: Use the ts-reset Library to Improve Readonly Array Handling in TypeScript
description: Total TypeScript's ts-reset library features tools to improve the experience of working with readonly arrays and other common TypeScript types.
---

Working with read-only arrays in TypeScript can be slightly annoying, especially when you're working with the `includes` and `indexOf` methods.

Take a simple read-only users array declared with `as const`:

```typescript
const users = ["matt", "sofia", "waqas"] as const;
```

A common operation could be to check whether a certain string matches one of the known values in this array. However, trying to use `includes` or `indexOf` to validate a name against our array will result in an error:

```typescript
users.includes("bryan"); // red squiggly line under bryan
users.indexOf("bryan"); // red squiggly line under bryan
```

This is because TypeScript considers `"bryan"` as not a member of the array.

```typescript
// Hovering over bryan shows:
Argument of type '"bryan"' is not assignable to parameter of type '"matt" | "sofia" | "waqas"'
```

While this specific typing adds predictability for TypeScript, it can be limiting and annoying when compared to behavior you're used to in JavaScript.

## Introducing `ts-reset`

To address this, Total TypeScript's `ts-reset` library can help:

```typescript
import "@total-typescript/ts-reset";
```

This library globally adjusts some of TypeScript's types, including updating arrays to accept any string when using `includes` and `indexOf`:

```typescript
users.includes("bryan"); // No error when `ts-reset` is imported
```

Total TypeScript's `ts-reset` library offers a way of balancing between the strictness and flexibility that TypeScript provides.

While some developers might prefer TypeScript's stricter approach, if you ever find read-only arrays troublesome, this library is a useful addition to your toolkit to make the TypeScript experience smoother.

### Operation Results:
This operation generated results by running the AccessibleLanguageNerd nerd against the source text using three different LLMs. The results are as follows:

#### GPT:
```typescript
{
  proposed_edits: [
    {
      existing_text: "Working with read-only arrays in TypeScript can be slightly annoying, especially when you're working with the `includes` and `indexOf` methods.",
      proposed_replacement: 'Working with read-only arrays in TypeScript can be frustrating, particularly when using the `includes` and `indexOf` methods.',
      reasoning: "The word 'slightly' weakens the statement unnecessarily, and 'particularly' is a clearer alternative to 'especially' in this context.",
      confidence: 0.9
    },
    {
      existing_text: 'A common operation could be to check whether a certain string matches one of the known values in this array.',
      proposed_replacement: 'A typical operation is to check if a specific string matches one of the values in this array.',
      reasoning: "Simplifying the sentence structure and replacing 'could be' with 'is' makes the statement more direct and assertive.",
      confidence: 0.9
    },
    {
      existing_text: 'However, trying to use `includes` or `indexOf` to validate a name against our array will result in an error:',
      proposed_replacement: 'However, using `includes` or `indexOf` to validate a name against our array results in an error:',
      reasoning: "Changing 'trying to use' to 'using' simplifies the language and makes the sentence more direct.",
      confidence: 0.95
    },
    {
      existing_text: 'This is because TypeScript considers "bryan" as not a member of the array.',
      proposed_replacement: 'This error occurs because TypeScript does not recognize "bryan" as a member of the array.',
      reasoning: 'Rephrasing for clarity and to emphasize the cause of the error.',
      confidence: 0.95
    },
    {
      existing_text: "While this specific typing adds predictability for TypeScript, it can be limiting and annoying when compared to behavior you're used to in JavaScript.",
      proposed_replacement: 'Although this strict typing adds predictability to TypeScript, it can be restrictive and frustrating compared to the more flexible behavior in JavaScript.',
      reasoning: "Using 'although' instead of 'while' clarifies the contrast, and 'restrictive and frustrating' are more precise descriptors of the limitations.",
      confidence: 0.9
    },
    {
      existing_text: "Total TypeScript's `ts-reset` library offers a way of balancing between the strictness and flexibility that TypeScript provides.",
      proposed_replacement: "Total TypeScript's `ts-reset` library provides a balance between the strictness and flexibility of TypeScript.",
      reasoning: 'Simplifying the sentence structure improves readability and directness.',
      confidence: 0.9
    }
  ]
}
```

#### Anthropic:
```typescript
{
  proposed_edits: [
    {
      existing_text: "Working with read-only arrays in TypeScript can be slightly annoying, especially when you're working with the `includes` and `indexOf` methods.",
      proposed_replacement: 'Working with read-only arrays in TypeScript can be a bit cumbersome, particularly when using the `includes` and `indexOf` methods.',
      reasoning: "Replaced 'slightly annoying' with 'a bit cumbersome' to sound more professional. Also changed 'you're working' to 'using' for conciseness.",
      confidence: 0.8
    },
    {
      existing_text: 'A common operation could be to check whether a certain string matches one of the known values in this array. However, trying to use `includes` or `indexOf` to validate a name against our array will result in an error:',
      proposed_replacement: 'A common task is checking if a string exists in the array. However, attempting to use `includes` or `indexOf` to check for a name not in the original array will throw an error:',
      reasoning: "Simplified wording to make the explanation more direct and clear. Changed 'result in an error' to 'throw an error' which is more precise terminology.",
      confidence: 0.9
    },
    {
      existing_text: "While this specific typing adds predictability for TypeScript, it can be limiting and annoying when compared to behavior you're used to in JavaScript.",
      proposed_replacement: 'While this strict typing provides predictability in TypeScript, it can feel restrictive compared to the more permissive behavior of JavaScript.',
      reasoning: "Replaced 'limiting and annoying' with 'restrictive' which conveys the same meaning more concisely. Clarified the comparison to JavaScript behavior.",
      confidence: 0.85
    },
    {
      existing_text: "Total TypeScript's `ts-reset` library offers a way of balancing between the strictness and flexibility that TypeScript provides.",
      proposed_replacement: "The `ts-reset` library from Total TypeScript helps strike a balance between TypeScript's strictness and flexibility.",
      reasoning: "Simplified the sentence structure to be more direct. Removed 'offers a way of' to be more concise.",
      confidence: 0.9
    }
  ]
}
```

#### Gemini:
```typescript
{
  proposed_edits: [
    {
      existing_text: 'red squiggly line',
      proposed_replacement: 'a red underline',
      reasoning: 'The term "red squiggly line" may not be familiar to all readers, especially those who use screen readers or other assistive technologies. Replacing it with "a red underline" is more descriptive and universally understood.',
      confidence: 0.9
    },
    {
      existing_text: 'red squiggly line',
      proposed_replacement: 'a red underline',
      reasoning: 'The term "red squiggly line" may not be familiar to all readers, especially those who use screen readers or other assistive technologies. Replacing it with "a red underline" is more descriptive and universally understood.',
      confidence: 0.9
    },
    {
      existing_text: 'Hovering over bryan shows:',
      proposed_replacement: 'The following message appears when hovering over the error: ',
      reasoning: 'The phrase "Hovering over bryan shows" assumes the reader is using a mouse and can hover. Replacing it with a more general description like "The following message appears when hovering over the error:" makes the text more accessible to users with different input methods.',
      confidence: 0.8
    }
  ]
}
```